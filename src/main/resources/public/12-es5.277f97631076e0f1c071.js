(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{efJa:function(l,e,n){"use strict";n.r(e);var t=n("CcnG"),a=function(){function l(l,e){this.spinnerService=l,this.dashboardService=e,this.MenusList=[],this.tiles=[],this.loggedUserData=JSON.parse(localStorage.getItem("userData")),this.lastProcessedDivisionDataSource={},this.lastProcessedJobsDataSource={},this.lastProcessedOperationTypeDataSource={},this.lastOneWeekDivisionsDataSourceObj={},this.operationTypesDataSet=[],this.widthone=850,this.heightone=400,this.type="mscolumn3d",this.dataFormat="json",this.width=400,this.height=300,this.multiBarType="mscolumn3d",this.operationTypesMultiBarDataSource={}}return l.prototype.ngOnInit=function(){this.spinnerService.show(),this.findDashboardData(),this.MenusList=[{ID:2,menuName:"Reports",menuUrl:"home",icon:"fa fa-area-chart",color:"#64aeed",isSelected:!0},{ID:3,menuName:"Schedule Settings",menuUrl:"settings",icon:"fa fa-cogs",color:"#efb44e",isSelected:!1},{ID:4,menuName:"Schedule Tracking",menuUrl:"schedule",icon:"fa fa-briefcase",color:"#ff5f4f",isSelected:!1},{ID:5,menuName:"Masters",menuUrl:"masters",icon:"fa fa-wrench",color:"#715fb7",isSelected:!1}]},l.prototype.findLastProcessedDivisionDataSource=function(){for(var l=this,e=this.dashboardResponse.lastOneWeekDetails.map(function(e){return"All"===l.loggedUserData.divisionCode?e.divisionName:e.divisionCode}).filter(function(l,e,n){return n.indexOf(l)===e}),n=[],t=0;t<e.length;t++){var a=0;this.dashboardResponse.lastProcessedDetails.filter(function(n){"All"===l.loggedUserData.divisionCode?n.divisionName===e[t]&&(a+=n.successTables+n.failedTables):l.loggedUserData.divisionCode==e[t]&&n.divisionCode===e[t]&&(a+=n.successTables+n.failedTables)}),n.push({label:e[t],value:a})}return{chart:{caption:"Division Wise ["+this.dashboardResponse.lastProcessedDetails[this.dashboardResponse.lastProcessedDetails.length-1].date+"]",xAxisName:"Division Names",yAxisName:"Tables Count",numberSuffix:"K",theme:"fusion"},data:n}},l.prototype.findLastProcessedJobsDataSource=function(){var l=this,e=this.dashboardResponse.lastProcessedDetails.map(function(l){return l.jobType}).filter(function(l,e,n){return n.indexOf(l)===e}),n=this.dashboardResponse.lastOneWeekDetails.map(function(e){return"All"===l.loggedUserData.divisionCode?e.divisionName:e.divisionCode}).filter(function(l,e,n){return n.indexOf(l)===e}),t=0,a=0;this.dashboardResponse.lastProcessedDetails.filter(function(l){l.jobType==e[0]?t+=l.successTables+l.failedTables:a+=l.successTables+l.failedTables});for(var i=[],s=0;s<n.length;s++)i.push({label:n[s]});return{chart:{caption:"Divisions Wise ",xAxisName:"Division Names",yAxisName:"Tables Count",numberSuffix:"K",theme:"fusion",plottooltext:"<b>Job Type : $seriesname</b> <br> <b>Value : $value</b> "},categories:[{category:i}],dataset:[{seriesname:e[0],data:[{value:t}]},{seriesname:e[1],data:[{value:a}]}]}},l.prototype.findLastProcessedOperationTypeDataSource=function(l){this.lastProcessedOperationTypeDataSource={},l.dataObj&&(l=l.dataObj.datasetName),this.lastProcessedOperationTypeDataSource={chart:{caption:l+" Job Division Wise ["+this.dashboardResponse.lastProcessedDetails[this.dashboardResponse.lastProcessedDetails.length-1].date+"]",xaxisname:"Division Names",yaxisname:"Tables Count",formatnumberscale:"1",plottooltext:"<b>$dataValue</b> $label in <b>$seriesName</b> Operation Type",theme:"fusion",drawcrossline:"1"},categories:[{category:[{label:"Success Tables"},{label:"Failed Tables"}]}],dataset:this.prepareOperationTypesDataSet(l)}},l.prototype.prepareOperationTypesDataSet=function(l){return[{seriesname:"CREATE",data:this.findOperationTypePoints(l,"CREATE")},{seriesname:"UPDATE",data:this.findOperationTypePoints(l,"UPDATE")},{seriesname:"DELETE",data:this.findOperationTypePoints(l,"DELETE")}]},l.prototype.findOperationTypePoints=function(l,e){var n=[];return this.dashboardResponse.lastProcessedDetails.filter(function(t){t.jobType==l&&t.operationType==e&&n.push({value:t.successTables},{value:t.failedTables})}),n},l.prototype.findLastOneWeekDivisionsDataSource=function(){var l=this,e=this.dashboardResponse.lastOneWeekDetails.map(function(e){return"All"===l.loggedUserData.divisionCode?e.divisionName:e.divisionCode}).filter(function(l,e,n){return n.indexOf(l)===e});this.lastOneWeekDivisionsDataSourceObj={chart:{caption:"Last One Week Division Wise Tracking Info",xaxisname:"Dates",yaxisname:"Tables Count",formatnumberscale:"1",plottooltext:"Division <b>$seriesName</b> Tables Count <b>$dataValue</b>  in $label",theme:"fusion"},categories:[{category:this.findLastOneWeekDates()}],dataset:this.findLastOneWeekDataSet(e)}},l.prototype.findLastOneWeekDataSet=function(l){for(var e=this.findLastOneWeekDates(),n=[],t=0;t<l.length;t++){for(var a=[],i=0;i<e.length;i++)a.push(this.getDataSet(e[i].label));n.push({seriesname:l[t],data:a})}return n},l.prototype.getDataSet=function(l){var e=this.dashboardResponse.lastOneWeekDetails.filter(function(e){return e.date===l}),n=0;return e&&e.filter(function(l){n+=l.successTables+l.failedTables}),{value:n}},l.prototype.findLastOneWeekDates=function(){var l=this.dashboardResponse.lastOneWeekDetails.map(function(l){return l.divisionName}).filter(function(l,e,n){return n.indexOf(l)===e});console.log("divisionNameArray: "+JSON.stringify(l));var e=this.dashboardResponse.lastOneWeekDetails.map(function(l){return l.date}).filter(function(l,e,n){return n.indexOf(l)===e});e.sort(),e.reverse(),console.log(e);for(var n=e&&e.length<=7?e.length:7,t=[],a=0;a<n;a++)t.push({label:e[a]});return t},l.prototype.startGraphs=function(){this.lastProcessedDivisionDataSource=this.findLastProcessedDivisionDataSource(),this.lastProcessedJobsDataSource=this.findLastProcessedJobsDataSource(),this.findLastProcessedOperationTypeDataSource("DIVISIONTOSTAGING"),this.findLastOneWeekDivisionsDataSource(),this.spinnerService.hide()},l.prototype.findDashboardData=function(){var l=this;this.dashboardService.findDashboardData(this.loggedUserData.divisionCode).subscribe(function(e){l.dashboardResponse=e,e&&(console.log(JSON.stringify(e)),l.startGraphs())},function(l){console.log("ERROR >>> "+l)})},l}(),i=function(){return function(){}}(),s=n("pMnS"),o=n("Y/BS"),u=n("sgpt"),r=n("nOaW"),d=n("gjF7"),c=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function p(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["style","width:100%;height:100%"]],[[1,"id",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,e){var n=e.component;l(e,0,0,t["\u0275inlineInterpolate"](1,"container-",n.containerId,"")),l(e,1,0,n.placeholder)})}var h=n("t/Na"),m=n("AytR"),f=function(){function l(l){this.http=l,this.myAppUrl=m.a.apiUrl,this.accessToken=JSON.parse(localStorage.getItem("accessToken")),this.header=new h.g({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+this.accessToken})}return l.prototype.findDashboardData=function(l){return this.http.get(m.a.apiUrl+"/dashboard/"+l,{headers:this.header})},l.prototype.existsTimeInterval=function(l){return this.http.get(m.a.apiUrl+"/existsTimeInterval/"+l,{headers:this.header})},l.prototype.addTimeInterval=function(l){return this.http.post(m.a.apiUrl+"/addTimeInterval",l,{headers:this.header})},l.prototype.updateTimeInterval=function(l){return this.http.put(m.a.apiUrl+"/updateTimeInterval",l,{headers:this.header})},l.prototype.deleteTimeInterval=function(l){return this.http.delete(m.a.apiUrl+"/deleteTimeInterval/"+l,{headers:this.header})},l}(),g=t["\u0275crt"]({encapsulation:0,styles:[["mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}a[_ngcontent-%COMP%]{color:#fff}.content[_ngcontent-%COMP%]{width:100%;padding-right:15px;padding-left:30px!important;margin-right:auto;margin-left:auto;text-align:left;margin-top:6%}.block-view[_ngcontent-%COMP%]{padding:30px;box-sizing:border-box;border-radius:8px;-webkit-transition:.2s cubic-bezier(.02,.54,.58,1);transition:all .2s cubic-bezier(.02,.54,.58,1);box-shadow:0 10px 55px 5px rgba(137,173,255,.35);width:calc(((20% - 20px) * 1) + 0px)!important;height:140px!important;font-size:22px}.dashboard-blocks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .mat-grid-tile[_ngcontent-%COMP%]{margin:10px 20px}.block-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block!important;margin-right:20px}.mat-figure[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block!important}figure[_ngcontent-%COMP%]{margin:0;display:inline-block!important}.breadcrumb[_ngcontent-%COMP%]{margin-bottom:10px;position:absolute;right:15px}.raphael-group-4-creditgroup[_ngcontent-%COMP%]{display:none!important}@media(max-width:1400px){.block-view[_ngcontent-%COMP%]{font-size:16px;width:calc(((20% - 10px) * 1) + 0px)!important}.content[_ngcontent-%COMP%]{margin-top:8%}}@media(max-width:1300px){.content[_ngcontent-%COMP%]{margin-top:10%}.division-week-chat[_ngcontent-%COMP%]{width:80%}}@media(max-width:760px){.division-week-chat[_ngcontent-%COMP%]{width:80%}}"]],data:{}});function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng4-loading-spinner",[],null,null,null,o.b,o.a)),t["\u0275did"](1,180224,null,0,u.Ng4LoadingSpinnerComponent,[u.Ng4LoadingSpinnerService],null,null),(l()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,43,"div",[["class","content"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,40,"div",[["class","row"],["style","margin-top: 5%;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,39,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,38,"div",[["class","row-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,37,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,36,"div",[["class","panel panel-primary"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Tracking Info Graphs"])),(l()(),t["\u0275eld"](13,0,null,null,33,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,7,"div",[["class","col-md-4 col-lg-4"],["style","display: none"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,6,"div",[["class","panel panel-primary"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Division Wise"])),(l()(),t["\u0275eld"](18,0,null,null,3,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"fusioncharts",[["dataFormat","JSON"],["type","Column3D"]],null,null,null,p,c)),t["\u0275prd"](512,null,r.a,r.a,[r.b]),t["\u0275did"](21,5226496,null,0,d.a,[t.ElementRef,r.a,t.KeyValueDiffers,t.NgZone],{dataSource:[0,"dataSource"],type:[1,"type"],width:[2,"width"],height:[3,"height"],dataFormat:[4,"dataFormat"]},null),(l()(),t["\u0275eld"](22,0,null,null,7,"div",[["class","col-md-6 col-lg-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,6,"div",[["class","panel panel-primary"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Jobs Wise"])),(l()(),t["\u0275eld"](26,0,null,null,3,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"fusioncharts",[["type","scrollstackedcolumn2d"]],null,[[null,"dataplotRollOver"]],function(l,e,n){var t=!0;return"dataplotRollOver"===e&&(t=!1!==l.component.findLastProcessedOperationTypeDataSource(n)&&t),t},p,c)),t["\u0275prd"](512,null,r.a,r.a,[r.b]),t["\u0275did"](29,5226496,null,0,d.a,[t.ElementRef,r.a,t.KeyValueDiffers,t.NgZone],{dataSource:[0,"dataSource"],type:[1,"type"],width:[2,"width"],height:[3,"height"],dataFormat:[4,"dataFormat"]},{dataplotRollOver:"dataplotRollOver"}),(l()(),t["\u0275eld"](30,0,null,null,7,"div",[["class","col-md-6 col-lg-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,6,"div",[["class","panel panel-primary"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Operation Types Wise"])),(l()(),t["\u0275eld"](34,0,null,null,3,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,2,"fusioncharts",[],null,null,null,p,c)),t["\u0275prd"](512,null,r.a,r.a,[r.b]),t["\u0275did"](37,5226496,null,0,d.a,[t.ElementRef,r.a,t.KeyValueDiffers,t.NgZone],{dataSource:[0,"dataSource"],type:[1,"type"],width:[2,"width"],height:[3,"height"],dataFormat:[4,"dataFormat"]},null),(l()(),t["\u0275eld"](38,0,null,null,8,"div",[["class","col-md-12 col-lg-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,7,"div",[["class","panel panel-primary"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Last One Week Division Wise Tracking Info Graphs"])),(l()(),t["\u0275eld"](42,0,null,null,4,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](43,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,2,"fusioncharts",[["class","division-week-chat"]],null,null,null,p,c)),t["\u0275prd"](512,null,r.a,r.a,[r.b]),t["\u0275did"](46,5226496,null,0,d.a,[t.ElementRef,r.a,t.KeyValueDiffers,t.NgZone],{dataSource:[0,"dataSource"],type:[1,"type"],width:[2,"width"],height:[3,"height"],dataFormat:[4,"dataFormat"]},null)],function(l,e){var n=e.component;l(e,21,0,n.lastProcessedDivisionDataSource,"Column3D",n.width,n.height,"JSON"),l(e,29,0,n.lastProcessedJobsDataSource,"scrollstackedcolumn2d",n.width,n.height,n.dataFormat),l(e,37,0,n.lastProcessedOperationTypeDataSource,n.multiBarType,n.width,n.height,n.dataFormat),l(e,46,0,n.lastOneWeekDivisionsDataSourceObj,n.type,n.widthone,n.heightone,n.dataFormat)},null)}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-dashboard",[],null,null,null,b,g)),t["\u0275did"](1,114688,null,0,a,[u.Ng4LoadingSpinnerService,f],null,null)],function(l,e){l(e,1,0)},null)}var D=t["\u0275ccf"]("app-dashboard",a,v,{},{},[]),y=n("Ip0R"),O=n("eDkP"),S=n("Fzqc"),T=n("mVsa"),x=n("ZYCi"),P=n("Wf4p"),C=n("ZYjt"),w=n("dWZg"),k=n("4c35"),N=n("qAlS"),R=n("r43C"),L=n("0gxj");n.d(e,"DashboardModuleNgFactory",function(){return W});var W=t["\u0275cmf"](i,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,D]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,u.Ng4LoadingSpinnerService,u.Ng4LoadingSpinnerService,[]),t["\u0275mpd"](4608,y.n,y.m,[t.LOCALE_ID,[2,y.A]]),t["\u0275mpd"](4608,O.c,O.c,[O.i,O.e,t.ComponentFactoryResolver,O.h,O.f,t.Injector,t.NgZone,y.d,S.b,[2,y.h]]),t["\u0275mpd"](5120,O.j,O.k,[O.c]),t["\u0275mpd"](5120,T.c,T.j,[O.c]),t["\u0275mpd"](4608,r.b,r.b,[]),t["\u0275mpd"](4608,r.a,r.a,[r.b]),t["\u0275mpd"](4608,f,f,[h.c]),t["\u0275mpd"](1073742336,x.o,x.o,[[2,x.t],[2,x.l]]),t["\u0275mpd"](1073742336,u.Ng4LoadingSpinnerModule,u.Ng4LoadingSpinnerModule,[]),t["\u0275mpd"](1073742336,y.c,y.c,[]),t["\u0275mpd"](1073742336,S.a,S.a,[]),t["\u0275mpd"](1073742336,P.n,P.n,[[2,P.f],[2,C.f]]),t["\u0275mpd"](1073742336,w.b,w.b,[]),t["\u0275mpd"](1073742336,P.x,P.x,[]),t["\u0275mpd"](1073742336,k.g,k.g,[]),t["\u0275mpd"](1073742336,N.c,N.c,[]),t["\u0275mpd"](1073742336,O.g,O.g,[]),t["\u0275mpd"](1073742336,T.i,T.i,[]),t["\u0275mpd"](1073742336,T.f,T.f,[]),t["\u0275mpd"](1073742336,P.o,P.o,[]),t["\u0275mpd"](1073742336,R.a,R.a,[]),t["\u0275mpd"](1073742336,L.a,L.a,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,x.j,function(){return[[{path:"",component:a}]]},[])])})}}]);